<Window x:Class="ChatbotGomarco.Vistas.VentanaConfiguracion"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="⚙️ Configuración del Chatbot GOMARCO"
        Height="400" Width="500"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        Icon="/Resources/gomarco-icon.ico"
        Background="#F9FAFB">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Encabezado -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <materialDesign:PackIcon Kind="Cog" 
                                     Width="24" Height="24"
                                     Foreground="#3B82F6"
                                     VerticalAlignment="Center"/>
            <StackPanel Margin="12,0,0,0" VerticalAlignment="Center">
                <TextBlock Text="Configuración del Sistema" 
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="#1F2937"
                           Margin="0"/>
                <TextBlock Text="Configura la IA avanzada para tu chatbot" 
                           FontSize="12"
                           Foreground="#6B7280"
                           Margin="0,4,0,0"/>
            </StackPanel>
        </StackPanel>

        <!-- Contenido Principal -->
        <Border Grid.Row="1" 
                Background="White"
                CornerRadius="8"
                Padding="16"
                BorderBrush="#E5E7EB"
                BorderThickness="1"
                Margin="0">
            <Border.Effect>
                <DropShadowEffect Color="#E5E7EB" Direction="270" ShadowDepth="2" BlurRadius="8" Opacity="0.3"/>
            </Border.Effect>
            
            <StackPanel>
                <!-- Sección IA OpenAI -->
                <StackPanel Margin="0,0,0,16">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <materialDesign:PackIcon Kind="Robot" 
                                                 Width="16" Height="16"
                                                 Foreground="#3B82F6"
                                                 VerticalAlignment="Center"/>
                        <TextBlock Text="Configuración de IA Avanzada" 
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="#1F2937"
                                   Margin="8,0,0,0"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Estado actual -->
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <materialDesign:PackIcon x:Name="IconoEstado" 
                                                 Kind="AlertCircle" 
                                                 Width="14" Height="14"
                                                 Foreground="#F59E0B"
                                                 VerticalAlignment="Center"/>
                        <TextBlock x:Name="TextoEstado" 
                                   Text="IA no configurada"
                                   FontSize="12"
                                   Foreground="#6B7280"
                                   Margin="6,0,0,0"
                                   VerticalAlignment="Center"/>
                    </StackPanel>

                    <!-- Campo de API Key -->
                    <TextBlock Text="Clave API de OpenAI:" 
                               Margin="0,0,0,6"
                               FontSize="12"
                               FontWeight="Medium"
                               Foreground="#1F2937"/>
                    <TextBox x:Name="TextBoxClaveAPI"
                             Height="32"
                             Padding="8"
                             FontFamily="Consolas"
                             FontSize="11"
                             Background="White"
                             BorderBrush="#D1D5DB"
                             BorderThickness="1"
                             Margin="0,0,0,12">
                        <TextBox.Style>
                            <Style TargetType="TextBox">
                                <Style.Triggers>
                                    <Trigger Property="IsFocused" Value="True">
                                        <Setter Property="BorderBrush" Value="#3B82F6"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </TextBox.Style>
                    </TextBox>

                    <!-- Información adicional -->
                    <Border Background="#F3F4F6" 
                            CornerRadius="4"
                            Padding="8"
                            Margin="0,0,0,0">
                        <StackPanel>
                            <TextBlock Text="💡 Obtén tu clave API en: platform.openai.com/api-keys" 
                                       Foreground="#6B7280"
                                       FontSize="10"
                                       Margin="0,0,0,4"/>
                            <TextBlock Text="🔒 La clave se guardará de forma segura y cifrada" 
                                       Foreground="#6B7280"
                                       FontSize="10"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Botones de acción -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0,16,0,0">
            <Button x:Name="BotonCancelar"
                    Content="Cancelar"
                    Padding="12,6"
                    Margin="0,0,8,0"
                    Background="Transparent"
                    BorderBrush="#D1D5DB"
                    BorderThickness="1"
                    Foreground="#6B7280"
                    FontSize="12"
                    Cursor="Hand"
                    Click="BotonCancelar_Click">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
                <Button.Style>
                    <Style TargetType="Button">
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#F3F4F6"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <Button x:Name="BotonGuardar"
                    Background="#3B82F6"
                    Foreground="White"
                    BorderThickness="0"
                    Padding="12,6"
                    FontSize="12"
                    FontWeight="Medium"
                    Cursor="Hand"
                    Click="BotonGuardar_Click">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Button.Template>
                <Button.Style>
                    <Style TargetType="Button">
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2563EB"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
                
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="ContentSave" 
                                             Width="12" Height="12"
                                             VerticalAlignment="Center"/>
                    <TextBlock x:Name="TextoBotonGuardar"
                               Text="Activar IA" 
                               Margin="4,0,0,0"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Window> 